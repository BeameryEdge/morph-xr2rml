@prefix xrr: <http://i3s.unice.fr/xr2rml#> .
@prefix rr:  <http://www.w3.org/ns/r2rml#> .
@prefix ex:  <http://example.com/> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql:     <http://semweb.mmlab.be/ns/ql#> .


<#TMWithTableName>
    a rr:TriplesMap;
    # Logical source with table
    xrr:logicalSource [
        rr:tableName "student";
        xrr:referenceFormulation xrr:Column;
        rml:iterator "$.*";                        # must be ignored
    ];
    # Template with mixed syntax paths dealing with XML data
    rr:subjectMap [
        rr:template "http://example.org/student/{id}-{Column(name)/XPath(\\/\\/LastName)}";
        rr:class ex:Student;
    ];
    # Multiple terms computed from a reference leading to generating multiple triples
    rr:predicateObjectMap [
        rr:predicate ex:activity;
        rr:objectMap [ 
            xrr:reference "Column(comments)/JSONPath($.*.hobby)";
            rr:termType rr:Literal;
        ];
    ];
    # Multiple terms computed from a template and assembled as an RDF list
    rr:predicateObjectMap [
        rr:predicate ex:names;
        rr:objectMap [
            # rr:template "{Column(name)/XPath(\\/\\/FirstName)} {Column(name)/XPath(\\/\\/LastName)}";
            xrr:reference "Column(name)/XPath(\\/\\/FirstName)";
            rr:termType xrr:RdfList;
        ];
    ].

<#SportBsk>
    a rr:TriplesMap;
    # Regular R2RML logical table with SQL query
    rr:logicalTable [ rr:sqlQuery "select * from sport where id = 0"; ];
    rr:subjectMap [ 
        rr:template "http://example.org/sport/{id}-{name}";
        rr:class ex:Sport;
    ];
    # Mixed syntax path with CSV data
    rr:predicateObjectMap [
        rr:predicate ex:code1;
        rr:objectMap [ xrr:reference "Column(code)/CSV(1)"; ];
    ];
    # Multiple terms produced by a reference, grouped as a bag
    rr:predicateObjectMap [
        rr:predicate ex:colors;
        rr:objectMap [
            xrr:reference "Column(shirt_colors)/JSONPath($.*)" ;
            rr:termType xrr:RdfBag;
        ];
    ].
