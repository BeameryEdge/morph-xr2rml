@prefix xrr: <http://i3s.unice.fr/xr2rml#> .
@prefix rr:  <http://www.w3.org/ns/r2rml#> .
@prefix ex:  <http://example.com/> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql:	 <http://semweb.mmlab.be/ns/ql#> .

<#Students>
    a rr:TriplesMap;
    xrr:logicalSource [
        xrr:query "db.testData.find({ 'a': { $exists: true} })";
        xrr:referenceFormulation ql:JSONPath;
        rml:iterator "$.*";
    ];
    rr:subjectMap [ 
    	rr:template "http://example.org/student/{$.*.id}";
		rr:class ex:Student;
    ];
    rr:predicateObjectMap [
    	rr:predicate ex:activity;
    	rr:objectMap [ 
    	    xrr:reference "$.*.hobby";
    	    rr:termType rr:Literal;
    	];
    ];
    rr:predicateObjectMap [
    	rr:predicate ex:names;
    	rr:objectMap [
    		rr:template "{$.*.FirstName} {$.*.LastName}";
    		rr:termType xrr:RdfList;
		];
    ].
